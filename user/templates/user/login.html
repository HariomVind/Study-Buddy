{% extends 'user/main_nav.html' %}
{% load static %}
{% block title %}Login{% endblock %}
{% block main %}
{% if messages %}
{% for message in messages %}
<div class="messages">
    <p class="alert {{message.tags}}" style="margin: 1rem; margin-top: 4rem;">{{message}}</p>
</div>
{% endfor %}
{% endif%}
<div class="conatiner mt-5 ms-5">
    <img class="mt-3 ms-5" src="{% static 'img/login.jpg' %}" alt="" height="" width="">
</div>
<form action="{% url 'login' %}" method="post">
    {% csrf_token %}
    <div class="position-absolute top-50 start-50 translate-middle-y">
        <h3>Login</h3>
        <div class="form-group row w-75 p-4  border border-dark rounded">
            <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa fa-lock"></i></span>
                <input class="form-control" id="username" name="username" placeholder="Email" value="">
              </div>
              
              <div class="input-group mb-3">
                <span class="input-group-text"><i class="fa fa-lock"></i></span>
                <input class="form-control" type="password" id="passwordinput" name="password" placeholder="Password" value="">
                <span class="input-group-text">
                  <i class="fa fa-eye-slash" onclick="myFunction()" id="passwordeye" 
                 style="cursor: pointer"></i>
                 </span>
              </div>
            <span>Don't have an account? <a href="{% url 'register' %}">Register</a></span>
            <button type="submit" class="btn btn-primary mt-2">Login</button>
        </div>
    </div>
</form>
{% endblock %}

{% block main_scripts %}
<script>
    function myFunction() {
    var x = document.getElementById("passwordinput");
    var y = document.getElementById("passwordeye")
    if (x.type === "password") {
      x.type = "text";
      y.classList.remove("fa-eye-slash")
      y.classList.add("fa-eye")
    } else {
      x.type = "password";
      y.classList.add("fa-eye-slash")
    }
  }
</script>
{% endblock %}